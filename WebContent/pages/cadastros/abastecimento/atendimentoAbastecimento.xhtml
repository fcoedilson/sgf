<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:c="http://java.sun.com/jsp/jstl/core"
      xmlns:rich="http://richfaces.org/rich"
      xmlns:a4j="http://richfaces.org/a4j"
      xmlns:t="http://myfaces.apache.org/tomahawk">


	<div id="cadastro">

		<h1 style="width:300px">Editar o Atendimento</h1>

		<fieldset>

			<legend><h:outputText value="Atendimento do Abastecimento" /> </legend>

			<h:inputHidden value="#{atendimentoAbastecimentoBean.entity.id}" rendered="#{atendimentoAbastecimentoBean.updateState}" />
			
	         <dt><label for="veiculo"><h:outputText value="Veículo: " /></label></dt>
	         <dd>
	         	<h:inputText id="veiculo" value="#{atendimentoAbastecimentoBean.entity.abastecimento.veiculo.placa} #{atendimentoAbastecimentoBean.entity.abastecimento.veiculo.modelo.descricao}" disabled="true" maxlength="8" required="true" />
	         	<h:message for="veiculo" styleClass="message"/>
	         </dd>

			<dt><label for="horaAtend">Hora do atendimento:</label></dt>
			<dd>
				<h:inputText id="horaAtend" value="#{atendimentoAbastecimentoBean.entity.horaAtendimento}" required="true" requiredMessage="Informe a hora do abastecimento" size="4" styleClass="maskHora">
					<f:convertDateTime pattern="HH:mm" timeZone="GMT-03:00"/>
				</h:inputText>
				<h:message for="horaAtend" styleClass="message"/>			
			</dd>

	         <dt><label for="ltsabast"><h:outputText value="Litros Abastecidos" /></label></dt>
	         <dd>
	         	<h:inputText id="ltsabast" value="#{atendimentoAbastecimentoBean.entity.quantidadeAbastecida}" size="4" maxlength="8" required="true" />
	         	<h:message for="ltsabast" styleClass="message"/>
	         </dd>
	         
	         <dt><label for="kmabast"><h:outputText value="Km do Abastecimento" /></label></dt>
	         <dd>
	         	<h:inputText id="kmabast" value="#{atendimentoAbastecimentoBean.entity.quilometragem}" size="6" maxlength="8" required="true" />
	         	<h:message for="kmabast" styleClass="message"/>
	         </dd>
		
		</fieldset>
	
		<h:commandButton action="#{atendimentoAbastecimentoBean.update}" value="Alterar" rendered="#{atendimentoAbastecimentoBean.updateState}"  
			onclick="if(!confirm('Confirmar alteração de dados.')) { form.reset();return false;}" styleClass="editar">
			<a4j:support event="oncomplete" reRender="paginaPrincipal"/>	
		</h:commandButton>
	
		<h:commandButton action="#{atendimentoAbastecimentoBean.search}" value="Voltar"  immediate="true">
			<a4j:support event="onclick" reRender="paginaPrincipal"/>
		</h:commandButton>
		
		

	</div>
	
</ui:composition>
